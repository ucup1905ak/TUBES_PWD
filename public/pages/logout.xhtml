<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="id" lang="id">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>PawHaven - Logout</title>
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    <meta name="robots" content="noindex,nofollow" />
    <style type="text/css">
      body { font-family: Arial, sans-serif; background: #FFFAEA; color: #333; margin: 0; }
      .wrap { min-height: 100vh; display: flex; align-items: center; justify-content: center; }
      .card { background: #fff; border-radius: 10px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); padding: 24px 28px; text-align: center; max-width: 420px; }
      h1 { margin: 0 0 8px; font-size: 22px; color: #2F6F4F; }
      p { margin: 0 0 14px; font-size: 14px; color: #555; }
      .btn { display: inline-block; background: #2F6F4F; color: #fff; padding: 10px 16px; border-radius: 8px; text-decoration: none; font-weight: 600; }
    </style>
  </head>
  <body>
    <div class="wrap">
      <div class="card">
        <h1>Logging Outâ€¦</h1>
        <p>Your session is being cleared securely.</p>
        <p><a href="/" class="btn">Return to Home</a></p>
      </div>
    </div>

    <script type="text/javascript">
      (function () {
        try {
          // Clear local/session storage
          if (typeof window !== 'undefined') {
            window.localStorage && localStorage.clear();
            window.sessionStorage && sessionStorage.clear();
          }

          // Proactively remove common auth cookies (client-side best-effort)
          var cookies = document.cookie.split(';');
          for (var i = 0; i < cookies.length; i++) {
            var cookie = cookies[i];
            var eqPos = cookie.indexOf('=');
            var name = eqPos > -1 ? cookie.substr(0, eqPos).trim() : cookie.trim();
            // Remove cookie for root path
            document.cookie = name + '=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/';
          }

          // Explicitly target our app token
          document.cookie = 'session_token=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/';

        } catch (e) {
          // Swallow errors; server already destroyed PHP session
        }

        // Redirect home after a short delay
        setTimeout(function(){ window.location.replace('/'); }, 300);
      })();
    </script>
  </body>
  </html>
